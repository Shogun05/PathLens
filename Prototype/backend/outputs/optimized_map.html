
<!DOCTYPE html>
<html>
<head>
    <title>PathLens Optimized Map</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { margin: 0; padding: 0; }
        #map { position: absolute; top: 0; bottom: 0; width: 100%; }
        .legend {
            background: white;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin: 5px 0;
            font-size: 12px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 8px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <script>
        // Initialize map centered on Bangalore (as example)
        var map = L.map('map').setView([12.9716, 77.5946], 13);
        
        // Add OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);
        
        // Add demo markers for optimized amenities
        var amenityColors = {
            'Hospital': '#ef4444',
            'School': '#3b82f6',
            'Grocery': '#22c55e',
            'Transit': '#f59e0b',
            'Park': '#10b981',
            'Pharmacy': '#8b5cf6'
        };
        
        // Demo optimized locations
        var optimizedLocations = [
            { name: 'Hospital A', type: 'Hospital', lat: 12.9850, lng: 77.5950 },
            { name: 'School B', type: 'School', lat: 12.9650, lng: 77.6100 },
            { name: 'Grocery C', type: 'Grocery', lat: 12.9700, lng: 77.5800 },
            { name: 'Transit Hub D', type: 'Transit', lat: 12.9800, lng: 77.6000 },
            { name: 'Park E', type: 'Park', lat: 12.9600, lng: 77.5900 },
            { name: 'Pharmacy F', type: 'Pharmacy', lat: 12.9750, lng: 77.6050 }
        ];
        
        // Add markers
        optimizedLocations.forEach(function(loc) {
            var marker = L.circleMarker([loc.lat, loc.lng], {
                radius: 8,
                fillColor: amenityColors[loc.type],
                color: '#fff',
                weight: 2,
                opacity: 1,
                fillOpacity: 0.8
            }).addTo(map);
            
            marker.bindPopup('<b>' + loc.name + '</b><br>Type: ' + loc.type);
        });
        
        // Add legend
        var legend = L.control({position: 'bottomright'});
        legend.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'legend');
            div.innerHTML = '<h4 style="margin: 0 0 10px 0;">Amenity Types</h4>';
            
            Object.keys(amenityColors).forEach(function(type) {
                div.innerHTML += '<div class="legend-item">' +
                    '<div class="legend-color" style="background:' + amenityColors[type] + '"></div>' +
                    '<span>' + type + '</span></div>';
            });
            
            return div;
        };
        legend.addTo(map);
        
        // Add walkability heat zones (demo)
        var walkabilityZones = [
            { center: [12.9716, 77.5946], radius: 800, score: 0.85 },
            { center: [12.9650, 77.6000], radius: 600, score: 0.72 },
            { center: [12.9800, 77.5900], radius: 700, score: 0.90 }
        ];
        
        walkabilityZones.forEach(function(zone) {
            L.circle(zone.center, {
                radius: zone.radius,
                fillColor: zone.score > 0.8 ? '#22c55e' : '#f59e0b',
                fillOpacity: 0.2,
                color: zone.score > 0.8 ? '#16a34a' : '#d97706',
                weight: 1
            }).addTo(map).bindPopup('Walkability Score: ' + (zone.score * 100).toFixed(0) + '%');
        });
    </script>
</body>
</html>
    